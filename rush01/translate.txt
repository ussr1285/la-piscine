• Your source code will be compiled as follows: cc -Wall -Wextra -Werror -o rush-01 *.c
• Your submission directory must have all files required to compile your program.
• Create a program that solves the following problem:
• Given a map of 4x4, place boxes of height 1 to 4 on each available square in a way
that every row and column sees the correct number of boxes from each the possible points of view (left/right for rows, up/down for columns).
• Ex: The box of height 3 will hide the box of height 1 from the left, so we have 3 visible boxes, and only one from the right, because the box of height 4 is hiding everything.
• Each of the views (2 per row and 2 per column) will have a given value. Your program must place the boxes correctly, while making sure each row and column only has one box of each size.
• Your output will contain the first solution you encounter
• (cf. annex 1)
• "col1up" is the value for the left column upper point of view. Each of these represent a characters string of values ranged between ’1’ and ’4’.
• This is the ONLY acceptable input for your program. Any other input must be considered an error.
• In case of error or if you can’t find any solutions, display "Error" followed by a line break.
• If you want bonus points, you may try to handle other map size (up to 9x9 !!!!).
• As usual if a bonus works, but the mandtory one fails the tests, you’ll get 0.





 고층 빌딩 기법
스카이스크래퍼는 측면에 몇 가지 단서가 있는 NxN 격자를 기반으로 하는 건물 배치 퍼즐입니다. 각 정사각형에 높이가 1에서 N 사이인 고층 건물을 배치하여 한 줄이나 열에 있는 두 고층 건물의 층수가 같지 않도록 하는 것이 목표입니다. 또한 각 단서의 방향에서 볼 때 보이는 고층 빌딩의 수는 단서의 값과 같습니다. 높은 고층 빌딩은 그 뒤에 위치한 낮은 고층 빌딩의 시야를 가린다는 점에 유의하세요. 아래 예시에는 5개의 열과 5개의 행으로 구성된 5x5 고층 빌딩 퍼즐이 있습니다. 이제 위의 규칙에 따라 각 행과 열에 1층부터 5층까지의 고층 빌딩을 배치해야 하는데요... 어떻게 해야 할까요?

고층 빌딩 퍼즐 고층 빌딩 솔루션
시작 기술
마천루 퍼즐에는 종종 단서 1 및/또는 단서 N이 포함되어 있어 시작하기가 매우 쉽습니다. 단서 1은 행이나 열에서 가장 높은 고층 빌딩만 보이는 것을 의미하고, 단서 N은 행이나 열에 있는 모든 고층 빌딩이 보이는 것을 의미합니다:

1. 단서 1
단서 1은 단서 방향에서 행 또는 열을 볼 때 고층 빌딩이 하나만 보이는 것을 의미합니다. 따라서 아래 예시에서는 단서 1 옆에 5층으로 가장 높은 고층 빌딩을 배치하여 나머지 빌딩의 시야를 가려야 합니다.

1의 단서 (A) 1의 단서 (B)
2. 단서 N
NxN 격자에서 단서 N은 단서 방향에서 행이나 열을 볼 때 모든 고층 빌딩이 보이는 것을 의미합니다. 따라서 아래 예시에서는 단서 5부터 오름차순으로 다섯 개의 고층 빌딩을 배치하여 막히는 건물이 없도록 해야 합니다.

N의 단서 (A) N의 단서 (B)
기본 기술
이제 다음 고층 빌딩을 배치할 위치를 분석하고 추론하는 기본 기법을 계속 진행합니다. 다음은 기본 기법을 사용하는 몇 가지 방법입니다:

1. 높은 고층 빌딩(기법 1)
기법을 시작한 후 다음 단계는 일반적으로 가장 높은 고층 빌딩을 하나 이상 배치하는 것입니다. 아래 부분적으로 풀린 퍼즐의 중앙 열을 살펴봅시다. 규칙에 따르면 하단의 4번 단서 방향에서 봤을 때 4개의 고층 빌딩이 보여야 하는데, 이는 5층짜리 고층 빌딩은 두 개의 상단 사각형 중 하나에만 배치할 수 있다는 뜻입니다. 그러나 맨 윗줄에는 이미 5층짜리 고층 빌딩이 있기 때문에 중앙 열에서 고층 빌딩을 배치할 수 있는 유일한 사각형은 맨 위쪽에서 두 번째 사각형입니다.

고층 빌딩 (기법 1) (A) 고층 빌딩 (기법 1) (B)
2. 높은 고층 빌딩 (기술 2)
때로는 다음 고층 빌딩을 배치 할 위치를 결정하기 위해 두 개 이상의 단서 정보가 필요합니다. 아래 부분적으로 풀린 퍼즐의 맨 윗줄에 4층짜리 고층 빌딩을 배치할 수 있는 위치를 살펴봅시다. 왼쪽의 단서 3은 맨 윗줄 왼쪽에서 3개의 고층 빌딩이 보여야 하기 때문에 왼쪽 사각형에서는 불가능합니다. 마찬가지로 상단의 단서 4는 오른쪽 열의 상단에서 4개의 고층 빌딩이 보여야 하므로 오른쪽 사각형에서는 불가능합니다. 왼쪽에서 두 번째 열에는 이미 4층짜리 고층 빌딩이 있기 때문에 맨 윗줄에서 고층 빌딩을 배치할 수 있는 유일한 사각형은 중앙에 있습니다.

고층 빌딩 (기술 2) (A) 고층 빌딩 (기술 2) (B)
3. 독특한 고층 빌딩 시퀀스
행이나 열의 빈 사각형에 남은 고층건물 시퀀스를 하나만 배치할 수 있는 상황이 가끔 있습니다. 아래 부분적으로 풀린 퍼즐의 맨 오른쪽 열에는 2, 3, 4, 5층의 고층 빌딩이 없습니다. 이 네 개의 고층 빌딩을 어떤 방식으로 배치하든, 아래 오른쪽 이미지와 같이 단서 4를 통해 가능한 시퀀스가 하나만 남게 됩니다.

고유한 마천루 시퀀스 (A) 고유한 마천루 시퀀스 (B)
4. 어떤 마천루도 행이나 열에서 반복될 수 없습니다.
많은 경우, 특히 퍼즐의 여러 단계를 완료한 후에는 고층 빌딩의 두 번째 규칙을 사용하여 한 줄이나 열에 있는 두 고층 빌딩의 층수가 같을 수 없다는 규칙을 사용하여 진행할 수 있습니다. 이 규칙을 사용하면 아래와 같이 4층 고층 빌딩과 5층 고층 빌딩을 각각 두 번째 줄과 네 번째 줄에 배치할 수 있음을 알 수 있습니다. 그 후 같은 규칙을 사용하여 4층 고층 빌딩을 세 번째 줄에 배치할 수 있습니다.

한 줄 또는 한 열에 고층 빌딩이 반복될 수 없음 (A) 한 줄 또는 한 열에 고층 빌딩이 반복될 수 없음 (B)
5. 가장 높은 마천루가 가장 반대편에 위치하기 2번 단서
가장 높은 고층 빌딩이 단서 2의 정반대편에 있는 경우, 두 번째로 높은 고층 빌딩을 단서 2 옆에 배치해야 합니다. 아래 예에서는 5x5 격자에서 두 번째로 높은 4층 고층 빌딩을 왼쪽 열의 상단 사각형에 있는 단서 2 옆에 배치해야 합니다. 다른 고층 건물이 있으면 이 단서 방향에서 왼쪽 열을 볼 때 두 개 이상의 건물이 보이게 됩니다.

반대편에 위치한 가장 높은 고층 빌딩 단서 2 (A) 반대편에 위치한 가장 높은 고층 빌딩 단서 2 (B)
6. 단서 2에 인접한 가장 낮은 고층 빌딩
단서 2에 1층 고층 빌딩이 인접한 경우, 다음 사각형에는 가장 높은 고층 빌딩이 있어야 합니다. 아래 예시에서는 5x5 격자에서 가장 높은 5층 고층 빌딩을 맨 아래 줄의 두 번째 사각형에 배치해야 합니다. 다른 고층 건물이 있으면 단서 방향에서 맨 아래 줄을 볼 때 두 개 이상의 건물이 보이게 됩니다.

단서 2에 인접한 가장 낮은 고층 빌딩 (A) 단서 2에 인접한 가장 낮은 고층 빌딩 (B)
7. 단서 2에서 두 번째 사각형에 위치한 두 번째로 높은 고층 빌딩
단서 2에서 두 번째 사각형에 두 번째로 높은 고층 빌딩을 배치하는 것은 불가능합니다. 예를 들어 아래 왼쪽 이미지와 같이 두 번째 열에 4층짜리 고층 빌딩을 배치해 봅시다. 단서 방향에서 기둥을 볼 때 그 위에 고층 빌딩을 배치하면 고층 빌딩이 하나 또는 세 개가 보이게 되므로 불가능하다는 것을 즉시 알 수 있습니다.

단서 2에서 두 번째 사각형에서 두 번째로 높은 고층 빌딩 (A) 단서 2에서 두 번째 사각형에서 두 번째로 높은 고층 빌딩 (B)
고급 기법
지금까지 설명한 기법만으로는 더 어려운 퍼즐을 풀기에는 충분하지 않습니다. 중간 및 어려운 퍼즐을 풀 때 어느 시점에서 다른 기술을 결합하거나 한두 단계 앞서 일어날 수있는 일을 생각해야한다는 것을 알게 될 것입니다. 이를 위해서는 많은 특별하고 흥미로운 논리 상황을 해결하기 위해 고급 기술을 사용해야합니다. 다음은 고급 기법의 몇 가지 예입니다. 중간 및 어려운 고층 빌딩 퍼즐을 혼자서 풀면 더 많은 자신 만의 기술을 개발할 수 있습니다:

1. 고급 기술 1
아래 물음표가있는 사각형에 어떤 마천루를 배치해야하는지 알아 봅시다. 다른 고층 빌딩은 오른쪽의 단서 2의 요구 사항을 위반하기 때문에 3 층 또는 4 층의 두 가지 명백한 가능성이 있습니다. 그러나 3층 고층 빌딩을 배치하면 4층 고층 빌딩을 두 번째 줄의 가장 왼쪽 사각형에 배치해야 하는데, 왼쪽 열에 이미 해당 고층 빌딩이 있기 때문에 허용되지 않습니다. 따라서 물음표가 있는 사각형의 유일한 후보는 4층 고층 빌딩입니다.

 고급 기법 1 (A) 고급 기법 1 (B)
2. 고급 기술 2
아래는 부분적으로 풀린 또 다른 퍼즐입니다. 4층짜리 고층 빌딩을 중앙 기둥에 배치할 수 있는 위치를 분석해 봅시다. 맨 윗줄에 이미 4층 고층 빌딩이 있기 때문에 맨 위 사각형은 후보가 될 수 없습니다. 그러나 5층 고층 빌딩 바로 위와 아래 사각형도 후보가 될 수 없습니다. 이 사각형 중 하나에 4층 고층 빌딩을 배치하면 이 열 위나 아래의 단서 2를 위반하게 됩니다. 즉, 4층 고층 빌딩을 배치할 수 있는 유일한 사각형은 중앙 기둥의 아래쪽뿐입니다.

 고급 기술 2 (A) 고급 기술 2 (B)
3. 고급 기술 3
오른쪽 기둥에 5층 고층 빌딩을 배치할 수 있는 위치를 살펴봅시다. 위쪽 사각형은 단서 2 때문에 후보가 아니며, 아래쪽 사각형도 그 줄에 이미 5층짜리 고층 빌딩이 있기 때문에 후보가 아닙니다. 그렇다면 위에서 두 번째와 세 번째 사각형은 어떨까요? 오른쪽 열의 두 번째 사각형에 5층짜리 고층 빌딩을 배치한다면, 왼쪽의 단서 2를 충족하려면 두 번째 줄의 왼쪽 사각형에 4층짜리 고층 빌딩을 배치해야 합니다. 그러나 왼쪽 열에는 이미 4층짜리 고층 빌딩이 있으므로 이 옵션도 불가능합니다. 즉, 오른쪽 열의 세 번째 사각형이 5층 고층 빌딩을 배치할 수 있는 유일한 후보입니다.

 고급 기술 3 (A) 고급 기술 3 (B)
4. 고급 기술 4
이제 아래 퍼즐에서 오른쪽 열의 두 번째 사각형에 어떤 마천루를 배치할 수 있는지 살펴봅니다. 4층과 5층 고층 빌딩이 이미 해당 행과 열에 배치되어 있으므로 나머지 후보로는 1층, 2층, 3층 고층 빌딩이 있습니다. 1층 고층 빌딩을 배치하려고 하면 오른쪽의 단서 3을 준수할 수 없음을 즉시 알 수 있습니다. 어떤 방식으로 고층 빌딩을 배치하려고 해도 해당 방향에서 봤을 때 3개의 빌딩이 보이지 않습니다. 반면에 3층 고층 빌딩을 배치하려고 하면 그 위에 4층 고층 빌딩을 배치해야 하는데, 이는 오른쪽 상단의 단서 3의 요건 때문에 불가능합니다. 따라서 이 사각형의 유일한 후보는 2층 고층 빌딩입니다.

 고급 기법 4 (A) 고급 기법 4 (B)
5. 고급 기법 5
아래 부분적으로 풀린 퍼즐의 맨 아래 줄을 보면 오른쪽의 두 사각형은 어떤 순서인지는 알 수 없지만 1층과 2층 고층 빌딩만 가능합니다. 4라는 두 개의 단서 때문에 다른 고층 빌딩은 배치할 수 없습니다. 따라서 맨 아래 줄의 중앙 사각형에 3층, 4층, 5층 고층 빌딩이 남은 후보로 남게 됩니다. 3층  

마천루는 중앙 기둥에 이미 이 높이의 건물이 포함되어 있기 때문에 분명히 불가능합니다. 5층 고층 빌딩도 오른쪽의 단서 4와 충돌하기 때문에 불가능합니다. 즉, 맨 아래 줄의 중앙 정사각형에 남은 유일한 후보는 4층짜리 고층 빌딩입니다.

 고급 기법 5 (A) 고급 기법 5 (B)
6. 고급 기법 6
아래 퍼즐의 오른쪽 열에서 세 번째 사각형은 1층 또는 2층 고층 빌딩만 가능합니다. 더 높은 고층 빌딩은 오른쪽의 단서 4와 충돌합니다. 즉, 4층과 5층 고층 빌딩은 이 열의 위쪽 두 사각형에만 배치할 수 있지만 어떤 순서로 배치해야 할지 아직 알 수 없습니다. 하지만 4층 고층 빌딩을 위쪽 사각형에 배치해 보면, 아래쪽 단서 4의 요구 사항을 위반하지 않고 나머지 고층 빌딩을 배치할 수 있는 방법이 없다는 것을 금방 알 수 있습니다. 즉, 오른쪽 기둥의 위쪽 사각형에는 5층짜리 고층 빌딩이 있고 그 아래에 4층짜리 고층 빌딩이 있어야 합니다.

 고급 기법 6 (A) 고급 기법 6 (B)
 아래 퍼즐의 오른쪽 열에서 세 번째 사각형은 1층 또는 2층 고층 빌딩만 가능합니다. 더 높은 고층 빌딩은 오른쪽의 단서 4와 충돌합니다. 즉, 4층과 5층 고층 빌딩은 이 열의 위쪽 두 사각형에만 배치할 수 있지만 어떤 순서로 배치해야 할지 아직 알 수 없습니다. 하지만 4층 고층 빌딩을 위쪽 사각형에 배치해 보면, 아래쪽 단서 4의 요구 사항을 위반하지 않고 나머지 고층 빌딩을 배치할 수 있는 방법이 없다는 것을 금방 알 수 있습니다. 즉, 오른쪽 기둥의 위쪽 사각형에는 5층 고층 빌딩이 있고 그 아래에 4층 고층 빌딩이 있어야 합니다.
